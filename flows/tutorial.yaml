# This is the `tutorial` flow and is called by the `welcome` flow, but
# can also be called directly by typing "tutorial"
name: tutorial
states:
    check_name:
        component: meya.conditional_exists
        properties:
            scope: user
            key: first_name
        transitions:
            exists: welcome_back
            notexists: ask_name
    welcome_back:
        component: meya.text
        properties:
            text: "Welcome back, {{ user.first_name }}!"
        transitions:
            next: overview
    ask_name:
        component: meya.input_string
        properties:
            text: What's your name?
            output: first_name
            scope: user
    confirm_name:
        component: meya.text
        properties:
            text: "Nice to meet you {{ user.first_name }}!"
    overview:
        component: meya.text_suggestions
        properties:
            text: |
                A Meya bot is made up of three things:
                1. intents - what triggers a bot response
                2. flows - the steps that a bot runs through
                3. components - the code that the bot runs along the way
            suggestions:
                - Got it
    last:
        component: meya.text
        properties:
            text: >
                As a bot designer you need to think about how these
                pieces should fit together to make a good user experience.
        delay:
            relative: 4
    docs:
        component: meya.text
        properties:
            text: >
                Good luck, and remember to check out the docs:
                http://docs.meya.ai
        delay:
            relative: 2
    complete:
        component: meya.pass
